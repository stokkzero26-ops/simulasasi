<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>!!! SYSTEM COMPROMISED !!!</title>
<style>
  :root { --red:#ff0033; --danger: #ffcc00; --bg:#000; }
  html,body{height:100%;margin:0;background:#000;font-family:monospace;overflow:hidden}
  #wrap{position:relative;width:100%;height:100%;color:var(--red);display:flex;flex-direction:column;align-items:center;justify-content:center;}
  #big {-webkit-text-stroke:1px #000;font-size:clamp(24px,6vw,72px);letter-spacing:2px;text-align:center;}
  #desc{font-size:18px;margin-top:12px;opacity:0.9;text-align:center}
  #count{font-size:48px;margin-top:18px;color:var(--danger);text-shadow:0 0 20px var(--danger);}
  #stopBtn{position:fixed;right:18px;bottom:18px;padding:14px 18px;background:var(--red);color:#fff;border:none;border-radius:8px;z-index:9999;cursor:pointer;box-shadow:0 0 30px var(--red)}
  /* Blue Screen overlay */
  #bsod{position:fixed;inset:0;background:#001a33;color:#fff;display:none;z-index:9998;align-items:center;justify-content:center;flex-direction:column;padding:30px;font-size:18px}
  #bsod h1{font-size:40px;margin:0 0 10px}
  /* flashing red */
  #flash{position:fixed;inset:0;background:var(--red);opacity:0;pointer-events:none;z-index:9000}
  /* shaking popups */
  .pop{position:fixed;padding:10px 14px;background:#111;border:2px solid var(--red);color:var(--red);box-shadow:0 0 20px var(--red);font-size:16px;z-index:9900}
  @keyframes shakeX{0%{transform:translateX(-6px)}25%{transform:translateX(6px)}50%{transform:translateX(-4px)}75%{transform:translateX(4px)}100%{transform:translateX(0)}}
  .jitter{animation:shakeX .25s ease-in-out infinite}
  /* jumpscare image */
  #scare{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:#000;z-index:10000}
  #scare img{max-width:90%;max-height:90%;transform:scale(1.05)}
  /* matrix background */
  #matrix{position:fixed;inset:0;pointer-events:none;opacity:0.25;z-index:5}
</style>
</head>
<body>
  <div id="flash"></div>
  <canvas id="matrix"></canvas>

  <div id="wrap" tabindex="0">
    <div id="big">!!! SYSTEM BREACH !!!</div>
    <div id="desc">All user partitions locked. Recovery key required.</div>
    <div id="count">00:02:00</div>
  </div>

  <div id="bsod">
    <h1>:(</h1>
    <div>YOUR DEVICE HAS EXPERIENCED A CRITICAL ERROR</div>
    <div style="margin-top:12px;font-size:14px;opacity:0.9">
      The system files are encrypted. Do not power off. Contact attacker for key.
    </div>
  </div>

  <div id="scare"><img src="https://i.ibb.co/3s5rD7p/screamer.png" alt="scare"/></div>

  <button id="stopBtn">REAL PRANK â€” STOP</button>

<script>
/* ========== CONFIG ========== */
const COUNTDOWN_SECONDS = 120; // 2 minutes
const VIBRATE_PATTERN = [400,200,400,200,400,200]; // intense
const POPUP_FREQ_MS = 700; // popup spawn
const FLASH_FREQ_MS = 600; // red flash
const JUMPSCARE_AT = 8; // seconds left to trigger jumpscare
/* ============================ */

let remaining = COUNTDOWN_SECONDS;
const countEl = document.getElementById('count');
const bsod = document.getElementById('bsod');
const flash = document.getElementById('flash');
const stopBtn = document.getElementById('stopBtn');
const scare = document.getElementById('scare');
let popupInterval, flashInterval, matrixInterval, countdownInterval, popupCount=0;
let ttsEnabled = 'speechSynthesis' in window;

function formatTime(s){
  const m = Math.floor(s/60).toString().padStart(2,'0');
  const sec = (s%60).toString().padStart(2,'0');
  return `${m}:${sec}`;
}

/* MATRIX CANVAS */
const canvas = document.getElementById('matrix');
const ctx = canvas.getContext('2d');
function fitCanvas(){ canvas.width = innerWidth; canvas.height = innerHeight; }
fitCanvas(); window.addEventListener('resize', fitCanvas);
const cols = Math.floor(window.innerWidth/10);
let drops = Array(cols).fill(1);
function drawMatrix(){
  ctx.fillStyle = 'rgba(0,0,0,0.08)'; ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = '#00ff00'; ctx.font = '14px monospace';
  for(let i=0;i<drops.length;i++){
    const text = Math.random()>0.5 ? '1' : '0';
    ctx.fillText(text, i*10, drops[i]*14);
    if(drops[i]*14 > canvas.height && Math.random()>0.975) drops[i]=0;
    drops[i]++;
  }
}

/* play TTS threat lines (non-violent) */
function speakLines(lines, rate=0.95){
  if(!ttsEnabled) return;
  for(let i=0;i<lines.length;i++){
    const u = new SpeechSynthesisUtterance(lines[i]);
    u.rate = rate;
    u.pitch = 0.7;
    u.volume = 1.0;
    setTimeout(()=> speechSynthesis.speak(u), i*1200);
  }
}

/* popup spam */
function spawnPopup(){
  const p = document.createElement('div');
  p.className = 'pop jitter';
  p.textContent = `âš  SYSTEM FAILURE (${++popupCount})`;
  p.style.top = (10 + Math.random()*70) + '%';
  p.style.left = (10 + Math.random()*70) + '%';
  document.body.appendChild(p);
  setTimeout(()=>{ p.remove(); }, 2500 + Math.random()*2000);
}

/* red flash */
function doFlash(){
  flash.style.opacity = Math.random()*0.85;
  setTimeout(()=> flash.style.opacity = 0, 120);
}

/* vibrate loop (if supported) */
function vibrateNow(){
  if(navigator.vibrate) navigator.vibrate(VIBRATE_PATTERN);
}

/* jumpscare */
function triggerJumpscare(){
  scare.style.display = 'flex';
  // big screamer sound
  const a = new Audio('https://files.catbox.moe/2lfk6k.mp3'); // short screamer
  a.volume = 1.0; a.play().catch(()=>{});
  setTimeout(()=> scare.style.display='none', 1600);
}

/* fake BSOD pop */
function showBSOD(){
  bsod.style.display = 'flex';
}

/* make fullscreen request after a user action prompt (browsers restrict autoplay/fullscreen) */
function promptStart(){
  const prompt = document.createElement('div');
  prompt.className='pop';
  prompt.style.top='40%'; prompt.style.left='50%'; prompt.style.transform='translate(-50%,-50%)';
  prompt.style.fontSize='18px';
  prompt.innerHTML = '<b>Tap to START</b><br>Press to begin system simulation';
  document.body.appendChild(prompt);
  const start = ()=> {
    document.body.removeChild(prompt);
    // request fullscreen (needs gesture)
    if(document.documentElement.requestFullscreen) document.documentElement.requestFullscreen().catch(()=>{});
    // play ambient sound if allowed
    try { document.getElementById('wrap').focus(); } catch(e){}
    startSequence();
  };
  prompt.addEventListener('click', start);
}

/* main sequence */
function startSequence(){
  // start matrix
  matrixInterval = setInterval(drawMatrix, 50);
  // start countdown
  countdownInterval = setInterval(()=> {
    remaining--;
    countEl.textContent = formatTime(remaining);
    // tts warning at specific times
    if(remaining === Math.floor(COUNTDOWN_SECONDS * 0.75)) speakLines(['Warning. Unauthorized access detected.']);
    if(remaining === Math.floor(COUNTDOWN_SECONDS * 0.45)) speakLines(['Encrypting user partitions now.']);
    if(remaining === JUMPSCARE_AT) { triggerJumpscare(); vibrateNow(); }
    if(remaining <= 10 && remaining > 0) { speakLines([`${remaining} seconds remaining`],1.3); vibrateNow(); }
    if(remaining <= 0){
      clearInterval(countdownInterval);
      endSequence();
    }
  }, 1000);
  // popup spam
  popupInterval = setInterval(spawnPopup, POPUP_FREQ_MS);
  // flash
  flashInterval = setInterval(()=>{ doFlash(); vibrateNow(); }, FLASH_FREQ_MS);
  // start ambient TTS + vibration loop
  setTimeout(()=> { speakLines(['All files encrypted. You have been locked out.']); }, 600);
}

/* end / reveal prank */
function endSequence(){
  // dramatic finish: show BSOD
  clearInterval(popupInterval); clearInterval(flashInterval); clearInterval(matrixInterval);
  showBSOD();
  // final speech
  speakLines(['Encryption complete. Awaiting payment instructions.'], 0.9);
  // after short time show STOP button bigger
  stopBtn.style.background = '#00cc44';
  stopBtn.textContent = 'PRANK OVER â€” CLICK TO STOP';
}

/* STOP handler: immediately reset everything (safe) */
function stopAll(){
  try{ speechSynthesis.cancel(); }catch(e){}
  clearInterval(popupInterval); clearInterval(flashInterval); clearInterval(matrixInterval); clearInterval(countdownInterval);
  bsod.style.display = 'none'; flash.style.opacity = 0; scare.style.display='none';
  // remove remaining popups
  document.querySelectorAll('.pop').forEach(n=>n.remove());
  countEl.textContent = 'PRANK STOPPED';
  stopBtn.remove();
  // optional gentle message
  const msg = document.createElement('div');
  msg.className='pop';
  msg.style.top='50%'; msg.style.left='50%'; msg.style.transform='translate(-50%,-50%)';
  msg.style.background='#022'; msg.style.border='2px solid #0f0'; msg.style.color='#0f0';
  msg.textContent = 'ðŸ˜‚ Ini Cuma Prank. Tidak ada file yang diubah.';
  document.body.appendChild(msg);
  setTimeout(()=> msg.remove(), 6000);
  // stop vibration
  if(navigator.vibrate) navigator.vibrate(0);
}

/* attach stop */
stopBtn.addEventListener('click', stopAll);

/* initial prompt so user triggers gesture (autoplay/fullscreen) */
promptStart();

/* safety note in console */
console.log('SIMULATION MODE: harmless HTML only. No file access.');

/* auto fallback: if user doesn't click within 12s, show a clear instruction */
setTimeout(()=>{
  if(!countEl.textContent || countEl.textContent === formatTime(COUNTDOWN_SECONDS)){
    const hint = document.createElement('div');
    hint.className='pop';
    hint.style.top='85%'; hint.style.left='50%'; hint.style.transform='translateX(-50%)';
    hint.textContent = 'Tap the screen to START the simulation (required by browser).';
    document.body.appendChild(hint);
    setTimeout(()=> hint.remove(), 9000);
  }
},12000);
</script>
</body>
</html>
